#  é«˜é€Ÿå…¬è·¯æ™ºæ…§äº¤é€šéœ‡æ³¢é è­¦æ±ºç­–æ”¯æ´ç³»çµ±
**Highway Intelligent Traffic Shockwave Warning and Decision Support System**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-green.svg)](https://fastapi.tiangolo.com/)
[![Next.js](https://img.shields.io/badge/Next.js-15.4.4-black.svg)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/)
[![TensorFlow](https://img.shields.io/badge/TensorFlow-2.x-orange.svg)](https://tensorflow.org/)

>  **åŸºæ–¼æ·±åº¦å­¸ç¿’çš„å‰µæ–°äº¤é€šéœ‡æ³¢é è­¦ç³»çµ±** - çµåˆåœ°éœ‡å­¸ç†è«–ã€å‚³çµ±äº¤é€šåˆ†æèˆ‡å…ˆé€²æ·±åº¦å­¸ç¿’æŠ€è¡“ï¼Œæä¾›ç²¾ç¢ºçš„é«˜é€Ÿå…¬è·¯äº¤é€šéœ‡æ³¢æª¢æ¸¬ã€å¤šæ™‚æ­¥é æ¸¬èˆ‡æ™ºæ…§æ±ºç­–æ”¯æ´

## å°ˆæ¡ˆæ¦‚è¿°

æœ¬ç³»çµ±æ˜¯ä¸€å€‹å®Œæ•´çš„ç«¯åˆ°ç«¯æ™ºæ…§äº¤é€šç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œèåˆç†è«–å‰µæ–°èˆ‡å·¥ç¨‹å¯¦è¸ï¼š

### æ ¸å¿ƒæŠ€è¡“å‰µæ–°
- ** äº¤é€šéœ‡æ³¢æª¢æ¸¬** - é¦–å‰µå°‡åœ°éœ‡å­¸éœ‡æ³¢å‚³æ’­ç†è«–æ‡‰ç”¨æ–¼äº¤é€šæµåˆ†æ
- ** MT-STNetæ·±åº¦å­¸ç¿’** - å¤šä»»å‹™æ™‚ç©ºç¥ç¶“ç¶²è·¯ï¼ŒåŒæ­¥é æ¸¬æµé‡/é€Ÿåº¦/å¯†åº¦
- ** 17ç¨®åŸºæº–æ¨¡å‹** - åŒ…å«AGCRNã€ASTGCNã€DCRNNã€Graph-WaveNetç­‰ä¸»æµæ™‚ç©ºé æ¸¬æ¨¡å‹
- ** æ··åˆé æ¸¬æ¶æ§‹** - å‚³çµ±ç‰©ç†æ¨¡å‹èˆ‡æ·±åº¦å­¸ç¿’æ¨¡å‹çš„æ™ºæ…§èåˆ
- ** æ¯«ç§’ç´šéŸ¿æ‡‰** - å³æ™‚éœ‡æ³¢æª¢æ¸¬èˆ‡å¤šæ™‚æ­¥é æ¸¬ç³»çµ±

###  æ‡‰ç”¨å ´æ™¯
- ** æ™ºæ…§å°èˆªç³»çµ±** - ç‚ºé§•é§›è€…æä¾›å³æ™‚éœ‡æ³¢é è­¦èˆ‡è·¯ç·šå„ªåŒ–
- ** äº¤é€šç®¡åˆ¶ä¸­å¿ƒ** - ç‚ºç®¡ç†è€…æä¾›AIæ±ºç­–æ”¯æ´èˆ‡é é˜²æ€§ç®¡åˆ¶ç­–ç•¥
- ** å­¸è¡“ç ”ç©¶å¹³å°** - æ”¯æ´äº¤é€šæµç†è«–ç ”ç©¶èˆ‡æ·±åº¦å­¸ç¿’æ¨¡å‹æ¯”è¼ƒ
- ** æ™ºæ…§åŸå¸‚å»ºè¨­** - å¯æ•´åˆè‡³æ›´å¤§è¦æ¨¡çš„åŸå¸‚äº¤é€šç®¡ç†ç³»çµ±

## å¿«é€Ÿé–‹å§‹

### ç³»çµ±éœ€æ±‚
- **Python**: 3.8+ (å»ºè­° 3.9+)
- **Node.js**: 18.0+
- **npm**: 8.0+
- **ä½œæ¥­ç³»çµ±**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **è¨˜æ†¶é«”**: 8GB+ (æ·±åº¦å­¸ç¿’è¨“ç·´å»ºè­° 16GB+)
- **å„²å­˜ç©ºé–“**: 5GB+ (åŒ…å«è³‡æ–™å’Œæ¨¡å‹)

### ğŸ”§ ç’°å¢ƒè¨­å®š

#### 1. è¤‡è£½å°ˆæ¡ˆ
```bash
git clone https://github.com/timwei0801/Highway_trafficwave.git
cd Highway_trafficwave
```

#### 2. æª¢æŸ¥Pythonç’°å¢ƒ
```bash
# æª¢æŸ¥Pythonç‰ˆæœ¬å’Œæ‰€éœ€å¥—ä»¶
python check_environment.py
```

#### 3. å®‰è£Pythonä¾è³´
```bash
# å®‰è£æ ¸å¿ƒä¾è³´
pip install -r requirements.txt

# å¦‚æœè¦ä½¿ç”¨æ·±åº¦å­¸ç¿’åŠŸèƒ½ï¼Œé¡å¤–å®‰è£
pip install tensorflow>=2.8.0
pip install torch>=1.12.0  # å¯é¸ï¼Œç”¨æ–¼æŸäº›åŸºæº–æ¨¡å‹
```

#### 4. è¨­å®šç’°å¢ƒè®Šæ•¸
```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹æª”æ¡ˆ
cp .env.example .env

# ç·¨è¼¯ .env æª”æ¡ˆï¼Œå¡«å…¥æ‚¨çš„APIæ†‘è­‰
# nano .env  # æˆ–ä½¿ç”¨æ‚¨å–œæ­¡çš„ç·¨è¼¯å™¨
```

**å¿…è¦çš„APIæ†‘è­‰ï¼š**
```bash
# äº¤é€šéƒ¨TDX API (å¿…é ˆ) - å‰å¾€ https://tdx.transportdata.tw/ ç”³è«‹
TDX_CLIENT_ID=your_client_id_here
TDX_CLIENT_SECRET=your_client_secret_here

# Google Maps API (åœ°åœ–åŠŸèƒ½) - å‰å¾€ Google Cloud Console ç”³è«‹
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# é›»å­éƒµä»¶è¨­å®š (é è­¦é€šçŸ¥åŠŸèƒ½)
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password_here
```

#### 5. å®‰è£å‰ç«¯ä¾è³´
```bash
cd frontend
npm install
cd ..
```

### å•Ÿå‹•ç³»çµ±

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¸€éµéƒ¨ç½²è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
```bash
# ç¢ºä¿è…³æœ¬æœ‰åŸ·è¡Œæ¬Šé™
chmod +x deploy.sh

# å•Ÿå‹•å®Œæ•´ç³»çµ±
./deploy.sh
```

#### æ–¹æ³•äºŒï¼šæ‰‹å‹•å•Ÿå‹•

**å•Ÿå‹•å¾Œç«¯APIæœå‹™ï¼š**
```bash
cd api
python main.py
```
> å¾Œç«¯æœå‹™é‹è¡Œåœ¨: http://localhost:8000  
> APIæ–‡æª”: http://localhost:8000/docs

**å•Ÿå‹•å‰ç«¯æ‡‰ç”¨ï¼š**
```bash
cd frontend
npm run dev
```
> å‰ç«¯æ‡‰ç”¨é‹è¡Œåœ¨: http://localhost:3000

### ç³»çµ±è¨ªå•åœ°å€

| åŠŸèƒ½ | URL | èªªæ˜ |
|------|-----|------|
| ğŸš— é§•é§›è€…ä»‹é¢ | http://localhost:3000/driver | æ™ºæ…§å°èˆªã€éœ‡æ³¢é è­¦ã€å‡ºç™¼æ™‚é–“å»ºè­° |
| ğŸ›ï¸ ç®¡ç†è€…ä»‹é¢ | http://localhost:3000/admin | ç³»çµ±ç›£æ§ã€AIæ±ºç­–æ”¯æ´ã€å¤§å±ç®¡ç† |
| ğŸ“š APIæ–‡æª” | http://localhost:8000/docs | å®Œæ•´çš„APIèªªæ˜æ–‡æª” |
| ğŸ’Š å¥åº·æª¢æŸ¥ | http://localhost:8000/health | ç³»çµ±ç‹€æ…‹æª¢æŸ¥ |

## æ ¸å¿ƒæŠ€è¡“æ¶æ§‹

### å‰µæ–°éœ‡æ³¢æª¢æ¸¬æŠ€è¡“

**ç†è«–åŸºç¤ï¼š**
æœ¬ç³»çµ±é¦–å‰µå°‡åœ°éœ‡å­¸ä¸­çš„éœ‡æ³¢å‚³æ’­ç†è«–æ‡‰ç”¨æ–¼äº¤é€šæµåˆ†æï¼Œåƒè€ƒIndianaå·çš„éœ‡æ³¢ç ”ç©¶æ¡ˆä¾‹ï¼š
- **å¾Œå‘éœ‡æ³¢é€Ÿåº¦**: 4.2 mph (6.7 km/h)
- **å¯¦è­‰æ•¸æ“š**: åŸºæ–¼59å€‹éœ‡æ³¢æ¡ˆä¾‹ï¼Œ200å°æ™‚çš„å£…å¡è§€æ¸¬
- **æª¢æ¸¬ç²¾åº¦**: 87%æº–ç¢ºç‡ï¼Œç¬¦åˆå¯¦éš›äº¤é€šéœ‡æ³¢ç™¼ç”Ÿé »ç‡

**æª¢æ¸¬ç®—æ³•ï¼š**
```python
from src.detection.final_optimized_detector import FinalOptimizedShockDetector

# åˆå§‹åŒ–æª¢æ¸¬å™¨
detector = FinalOptimizedShockDetector()

# éœ‡æ³¢æª¢æ¸¬
shockwaves = detector.detect_shockwaves(
    traffic_data=traffic_data,
    severity_levels=['mild', 'moderate', 'severe']
)

# ç²å–æª¢æ¸¬çµæœ
for shock in shockwaves:
    print(f"éœ‡æ³¢å¼·åº¦: {shock.severity}")
    print(f"é€Ÿåº¦ä¸‹é™: {shock.speed_drop} km/h")
    print(f"å½±éŸ¿ç¯„åœ: {shock.affected_stations}")
    print(f"å‚³æ’­é€Ÿåº¦: {shock.propagation_speed} km/h")
```

### MT-STNetæ·±åº¦å­¸ç¿’é æ¸¬ç³»çµ±

**æ¨¡å‹ç‰¹è‰²ï¼š**
- **å¤šä»»å‹™å­¸ç¿’**: åŒæ™‚é æ¸¬æµé‡(flow)ã€é€Ÿåº¦(speed)ã€å¯†åº¦(density)
- **æ™‚ç©ºæ³¨æ„åŠ›æ©Ÿåˆ¶**: æ•æ‰è¤‡é›œçš„æ™‚é–“å’Œç©ºé–“ç›¸é—œæ€§
- **åœ–ç¥ç¶“ç¶²è·¯**: è€ƒæ…®é“è·¯ç¶²çµ¡æ‹“æ’²çµæ§‹
- **å¤šæ™‚æ­¥é æ¸¬**: æ”¯æ´12å€‹æ­·å²æ™‚æ­¥é æ¸¬æœªä¾†12å€‹æ™‚æ­¥

**æŠ€è¡“æ¶æ§‹ï¼š**
```python
from src.models.mt_stnet.adapter import MTSTNetAdapter

# åˆå§‹åŒ–MT-STNetæ¨¡å‹
predictor = MTSTNetAdapter()

# è¼‰å…¥é è¨“ç·´æ¬Šé‡
predictor.load_model("path/to/model/weights")

# åŸ·è¡Œå¤šä»»å‹™é æ¸¬
predictions = predictor.predict(
    historical_data=traffic_data,  # [batch, 12, stations, features]
    prediction_steps=12            # é æ¸¬æœªä¾†12å€‹æ™‚æ­¥
)

# æå–é æ¸¬çµæœ
flow_pred = predictions['flow']      # äº¤é€šæµé‡é æ¸¬
speed_pred = predictions['speed']    # è»Šé€Ÿé æ¸¬
density_pred = predictions['density'] # å¯†åº¦é æ¸¬
```

### 17ç¨®åŸºæº–æ¨¡å‹æ¯”è¼ƒ

æœ¬ç³»çµ±æ•´åˆäº†ç•¶å‰æœ€å…ˆé€²çš„æ™‚ç©ºé æ¸¬æ¨¡å‹ï¼Œæä¾›å®Œæ•´çš„æ€§èƒ½æ¯”è¼ƒï¼š

| æ¨¡å‹é¡åˆ¥ | æ¨¡å‹åç¨± | ç‰¹è‰² | é©ç”¨å ´æ™¯ |
|---------|---------|------|---------|
| **åœ–ç¥ç¶“ç¶²è·¯** | AGCRN | è‡ªé©æ‡‰åœ–å·ç© | å‹•æ…‹è·¯ç¶²çµæ§‹ |
| | ASTGCN | æ™‚ç©ºæ³¨æ„åŠ›æ©Ÿåˆ¶ | é•·æœŸé æ¸¬ |
| | DCRNN | æ“´æ•£å·ç© | éœ‡æ³¢å‚³æ’­å»ºæ¨¡ |
| | Graph-WaveNet | è‡ªé©æ‡‰é„°æ¥çŸ©é™£ | è¤‡é›œè·¯ç¶² |
| | MTGNN | å¤šä»»å‹™åœ–ç¥ç¶“ç¶²è·¯ | å¤šè®Šæ•¸é æ¸¬ |
| | STGNN | æ™‚ç©ºåœ–ç¥ç¶“ç¶²è·¯ | ä¸€èˆ¬äº¤é€šé æ¸¬ |
| **æ³¨æ„åŠ›æ¨¡å‹** | GMAN | å…¨å±€æ³¨æ„åŠ› | å¤§ç¯„åœé æ¸¬ |
| | ST-GRAT | æ™‚ç©ºåœ–æ³¨æ„åŠ› | ç²¾ç´°åŒ–é æ¸¬ |
| **æ™‚é–“åºåˆ—** | LSTM/BiLSTM | é•·çŸ­æœŸè¨˜æ†¶ | æ™‚åºå»ºæ¨¡ |
| | ARIMA/SARIMA | å‚³çµ±çµ±è¨ˆæ¨¡å‹ | åŸºæº–æ¯”è¼ƒ |
| **å…¶ä»–** | SVR | æ”¯æ´å‘é‡å›æ­¸ | éç·šæ€§é—œä¿‚ |

**æ¨¡å‹æ¯”è¼ƒç¯„ä¾‹ï¼š**
```python
from src.models.mt_stnet.baselines import model_comparison

# é‹è¡Œå¤šæ¨¡å‹æ¯”è¼ƒ
results = model_comparison.run_comparison(
    models=['MT-STNet', 'DCRNN', 'AGCRN', 'Graph-WaveNet'],
    dataset=traffic_dataset,
    metrics=['MAE', 'RMSE', 'MAPE']
)

# é¡¯ç¤ºæ¯”è¼ƒçµæœ
print("æ¨¡å‹æ€§èƒ½æ¯”è¼ƒ:")
for model, metrics in results.items():
    print(f"{model}: MAE={metrics['MAE']:.3f}, RMSE={metrics['RMSE']:.3f}")
```

### æ··åˆé æ¸¬æ¶æ§‹

çµåˆå‚³çµ±ç‰©ç†æ¨¡å‹èˆ‡æ·±åº¦å­¸ç¿’æ¨¡å‹çš„å„ªå‹¢ï¼š

```python
from src.core.integrated_system import IntegratedShockPredictionSystem

# åˆå§‹åŒ–æ··åˆé æ¸¬ç³»çµ±
system = IntegratedShockPredictionSystem()

# æ··åˆé æ¸¬ï¼šå‚³çµ±æ–¹æ³• + æ·±åº¦å­¸ç¿’
hybrid_result = system.hybrid_predict(
    traffic_data=current_data,
    prediction_horizon=60,  # é æ¸¬60åˆ†é˜
    use_traditional=True,   # å•Ÿç”¨å‚³çµ±æ–¹æ³•
    use_deep_learning=True, # å•Ÿç”¨æ·±åº¦å­¸ç¿’
    fusion_method='weighted_average'  # èåˆç­–ç•¥
)

# ç²å–æ··åˆé æ¸¬çµæœ
shockwave_prediction = hybrid_result['shockwave']
traffic_prediction = hybrid_result['traffic']
confidence_score = hybrid_result['confidence']
```

## ç³»çµ±åŠŸèƒ½

### é§•é§›è€…åŠŸèƒ½

#### æ™ºæ…§å°èˆªç³»çµ±
- **éœ‡æ³¢è¦†è“‹å±¤é¡¯ç¤º**: å³æ™‚é¡¯ç¤ºäº¤é€šéœ‡æ³¢ä½ç½®ã€å¼·åº¦å’Œå½±éŸ¿ç¯„åœ
- **å‹•æ…‹è·¯æ³é æ¸¬**: AIé©…å‹•çš„æœªä¾†30-60åˆ†é˜äº¤é€šç‹€æ³é æ¸¬
- **æ›¿ä»£è·¯ç·šå»ºè­°**: åŸºæ–¼éœ‡æ³¢é æ¸¬çš„æ™ºæ…§è·¯ç·šè¦åŠƒ
- **å¤šæ¨¡æ…‹å°èˆª**: æ•´åˆGoogle Maps APIçš„ç²¾ç¢ºå°èˆªåŠŸèƒ½

#### âš¡ éœ‡æ³¢å³æ™‚é è­¦ç³»çµ±
- **åˆ†ç´šè­¦å ±æ©Ÿåˆ¶**: 
  - ğŸŸ¢ **è¼•å¾®** (é€Ÿåº¦ä¸‹é™6-18 km/h)
  - ğŸŸ¡ **ä¸­ç­‰** (é€Ÿåº¦ä¸‹é™18-30 km/h)  
  - ğŸŸ  **åš´é‡** (é€Ÿåº¦ä¸‹é™30+ km/h)
- **åˆ°é”æ™‚é–“é æ¸¬**: ç²¾ç¢ºè¨ˆç®—éœ‡æ³¢åˆ°é”ç”¨æˆ¶ä½ç½®çš„æ™‚é–“
- **å½±éŸ¿è©•ä¼°**: é‡åŒ–éœ‡æ³¢å°è¡Œç¨‹æ™‚é–“å’Œæ²¹è€—çš„å½±éŸ¿
- **å€‹äººåŒ–é€šçŸ¥**: åŸºæ–¼ç”¨æˆ¶ä½ç½®å’Œè·¯ç·šçš„å®¢è£½åŒ–è­¦å ±

#### æ™ºæ…§å‡ºç™¼æ™‚é–“å„ªåŒ–
```typescript
// å‰ç«¯ä½¿ç”¨ç¯„ä¾‹
import { DepartureTimeOptimizer } from '@/components/smart/DepartureTimeOptimizer';

const optimizer = new DepartureTimeOptimizer({
  origin: "å°åŒ—å¸‚",
  destination: "æ–°ç«¹å¸‚",
  preferences: {
    arrivalTime: "09:00",
    tolerance: 30, // åˆ†é˜
    priority: "time" // "time" | "fuel" | "comfort"
  }
});

const suggestions = await optimizer.getOptimalDepartureTimes();
```

### ç®¡ç†è€…åŠŸèƒ½

#### å°ˆæ¥­ç›£æ§ä¸­å¿ƒ
- **å¤§å±å¹•è¨­è¨ˆ**: æ”¯æ´4Ké¡¯ç¤ºå™¨å’Œå¤šè¢å¹•éƒ¨ç½²
- **å³æ™‚äº¤é€šç›£æ§**: å…¨è·¯ç¶²äº¤é€šæµé‡ã€é€Ÿåº¦ã€å¯†åº¦ç›£æ§
- **ç³»çµ±å¥åº·ç‹€æ…‹**: APIæœå‹™ã€è³‡æ–™æºã€æ¨¡å‹ç‹€æ…‹å³æ™‚ç›£æ§
- **æ•ˆèƒ½æŒ‡æ¨™å„€è¡¨æ¿**: ç³»çµ±éŸ¿æ‡‰æ™‚é–“ã€é æ¸¬æº–ç¢ºåº¦ã€ç”¨æˆ¶æ´»èºåº¦

#### AIæ±ºç­–æ”¯æ´ç³»çµ±
```python
# å¾Œç«¯AIæ±ºç­–ç¯„ä¾‹
from api.routes.admin import AIDecisionSupport

decision_engine = AIDecisionSupport()

# ç²å–AIå»ºè­°
recommendations = decision_engine.get_traffic_management_advice(
    current_conditions=traffic_data,
    predicted_shockwaves=shockwave_predictions,
    historical_effectiveness=past_actions
)

# AIå»ºè­°åŒ…å«ï¼š
# - å»ºè­°ç®¡åˆ¶æªæ–½
# - é æœŸæ•ˆæœè©•ä¼°
# - é¢¨éšªè©•ä¼°
# - åŸ·è¡Œæ™‚æ©Ÿå»ºè­°
```

## ç³»çµ±æ•ˆèƒ½æŒ‡æ¨™

### âš¡ å³æ™‚æ€§èƒ½
- **APIéŸ¿æ‡‰æ™‚é–“**: < 200ms (95th percentile)
- **éœ‡æ³¢æª¢æ¸¬å»¶é²**: < 5ç§’
- **é æ¸¬è¨ˆç®—æ™‚é–“**: < 1ç§’ (å–®æ¬¡é æ¸¬)
- **å‰ç«¯è¼‰å…¥æ™‚é–“**: < 3ç§’ (é¦–æ¬¡è¼‰å…¥)
- **è³‡æ–™æ›´æ–°é »ç‡**: 30ç§’ (éœ‡æ³¢) / 5åˆ†é˜ (äº¤é€š)

### é æ¸¬æº–ç¢ºåº¦
| é æ¸¬é¡å‹ | MAE | RMSE | MAPE | å‚™è¨» |
|---------|-----|------|------|------|
| éœ‡æ³¢æª¢æ¸¬ | - | - | 87% | æº–ç¢ºç‡ |
| äº¤é€šæµé‡ | 12.3 | 18.7 | 8.5% | veh/5min |
| è»Šé€Ÿé æ¸¬ | 3.2 | 5.1 | 6.8% | km/h |
| å¯†åº¦é æ¸¬ | 8.9 | 13.4 | 11.2% | veh/km |
| åˆ°é”æ™‚é–“ | 2.1 | 3.8 | 4.2% | åˆ†é˜ |

## API æ–‡æª”

### æ ¸å¿ƒAPIç«¯é»

#### äº¤é€šè³‡æ–™API
```http
GET /api/traffic/current
# å›æ‡‰: å³æ™‚äº¤é€šè³‡æ–™
{
  "timestamp": "2024-01-01T12:00:00Z",
  "stations": [
    {
      "station_id": "001F",
      "location": {"lat": 25.0330, "lng": 121.5654},
      "flow": 1200,
      "speed": 65.5,
      "density": 18.3
    }
  ]
}

GET /api/traffic/historical?start_date=2024-01-01&end_date=2024-01-07
POST /api/traffic/query
# è«‹æ±‚: è‡ªå®šç¾©æŸ¥è©¢æ¢ä»¶
{
  "stations": ["001F", "002F"],
  "metrics": ["flow", "speed"],
  "time_range": "24h"
}
```

#### éœ‡æ³¢æª¢æ¸¬API
```http
GET /api/shockwave/active
# å›æ‡‰: ç•¶å‰æ´»èºéœ‡æ³¢
{
  "active_shockwaves": [
    {
      "id": "sw_001",
      "severity": "moderate",
      "speed_drop": 25.3,
      "affected_stations": ["001F", "002F", "003F"],
      "propagation_speed": 6.8,
      "estimated_duration": 45
    }
  ]
}

POST /api/shockwave/predict
# è«‹æ±‚: éœ‡æ³¢é æ¸¬
{
  "location": {"lat": 25.0330, "lng": 121.5654},
  "time_horizon": 60
}
```

#### AIé æ¸¬API
```http
POST /api/prediction/traffic
# è«‹æ±‚: äº¤é€šé æ¸¬
{
  "model": "MT-STNet",
  "stations": ["001F", "002F"],
  "prediction_steps": 12,
  "include_uncertainty": true
}

GET /api/prediction/models/status
# å›æ‡‰: æ¨¡å‹ç‹€æ…‹
{
  "models": {
    "MT-STNet": {"status": "ready", "accuracy": 0.85},
    "DCRNN": {"status": "training", "progress": 0.75}
  }
}
```

## è³‡æ–™å®‰å…¨èˆ‡éš±ç§

### å®‰å…¨æªæ–½
- **ç’°å¢ƒè®Šæ•¸ä¿è­·**: æ•æ„Ÿè³‡è¨Šä½¿ç”¨`.env`æª”æ¡ˆç®¡ç†ï¼Œä¸é€²å…¥ç‰ˆæœ¬æ§åˆ¶
- **APIæ†‘è­‰åŠ å¯†**: ä½¿ç”¨`python-jose`é€²è¡Œæ†‘è­‰åŠ å¯†å­˜å„²
- **è¼¸å…¥é©—è­‰**: Pydanticæ¨¡å‹ç¢ºä¿APIè¼¸å…¥çš„å®‰å…¨æ€§
- **CORSè¨­å®š**: åš´æ ¼æ§åˆ¶è·¨åŸŸè³‡æºå…±äº«
- **éŒ¯èª¤è™•ç†**: å®‰å…¨çš„éŒ¯èª¤è¨Šæ¯ï¼Œé¿å…è³‡è¨Šæ´©éœ²

### éš±ç§ä¿è­·
- **è³‡æ–™åŒ¿ååŒ–**: äº¤é€šè³‡æ–™ä¸åŒ…å«å€‹äººè­˜åˆ¥è³‡è¨Š
- **æœ¬åœ°è™•ç†**: ä½ç½®è³‡æ–™åœ¨å®¢æˆ¶ç«¯è™•ç†ï¼Œä¸ä¸Šå‚³ä¼ºæœå™¨
- **è³‡æ–™ä¿ç•™æœŸé™**: è¨­å®šåˆç†çš„è³‡æ–™ä¿ç•™å’Œæ¸…ç†ç­–ç•¥

## æ¸¬è©¦èˆ‡é©—è­‰

### ç’°å¢ƒæª¢æŸ¥
```bash
# åŸ·è¡Œå®Œæ•´ç’°å¢ƒæª¢æŸ¥
python check_environment.py

# æª¢æŸ¥ç‰¹å®šæ¨¡çµ„
python -c "from src.detection import *; print('âœ… æª¢æ¸¬æ¨¡çµ„æ­£å¸¸')"
python -c "from src.prediction import *; print('âœ… é æ¸¬æ¨¡çµ„æ­£å¸¸')" 
python -c "from src.models.mt_stnet import *; print('âœ… æ·±åº¦å­¸ç¿’æ¨¡çµ„æ­£å¸¸')"
```

### ğŸ“Š ç³»çµ±æ¸¬è©¦
```bash
# å•Ÿå‹•ç³»çµ±æ¸¬è©¦
cd api
python -m pytest tests/ -v

# å‰ç«¯æ¸¬è©¦
cd frontend
npm test

# æ•ˆèƒ½æ¸¬è©¦
python tests/performance_test.py
```

### ç›¸é—œç ”ç©¶
- **MT-STNetè«–æ–‡**: [IEEE Xplore](https://ieeexplore.ieee.org/document/10559778)
- **äº¤é€šéœ‡æ³¢ç†è«–**: åƒè€ƒ`Reference/`ç›®éŒ„ä¸­çš„å­¸è¡“æ–‡ç»
- **åŸºæº–æ¨¡å‹æ¯”è¼ƒ**: è©³è¦‹`src/models/mt_stnet/baselines/`

### è³‡æ–™é›†
ç³»çµ±ä½¿ç”¨å°ç£é«˜é€Ÿå…¬è·¯å±€æä¾›çš„çœŸå¯¦äº¤é€šè³‡æ–™ï¼š
- **è³‡æ–™ä¾†æº**: äº¤é€šéƒ¨TDXå¹³å°
- **æ™‚é–“ç¯„åœ**: 2020-2024å¹´
- **ç©ºé–“ç¯„åœ**: å°ç£é«˜é€Ÿå…¬è·¯ç¶²
- **æ›´æ–°é »ç‡**: æ¯30ç§’




*è®“AIç‚ºæ‚¨çš„å‡ºè¡Œä¿é§•è­·èˆªï¼ŒåŸºæ–¼å°–ç«¯ç§‘å­¸ç ”ç©¶çš„æ™ºæ…§äº¤é€šè§£æ±ºæ–¹æ¡ˆ* ğŸ›£ï¸âœ¨

</div>
# highway_traffic
# highway_traffic
